(this["webpackJsonpcgt290-final"]=this["webpackJsonpcgt290-final"]||[]).push([[0],{276:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return s}));var r=a(10),n=a(12),i=a(277),s=function(){function t(a){var n=this;Object(r.a)(this,t),this.global=[],this.buyerMap={},this.buyers=[],this.sellerMap={},this.sellers=[],this.itemMap={},this.items=[],this.guildMap={},this.guilds=[],this.dateMap={},this.dates=[];var s="undefined"!==typeof e&&null!=e.versions&&null!=e.versions.node;fetch(s?"NicolasNewman/CGT290-Final/master/data/data.csv":"https://raw.githubusercontent.com/NicolasNewman/CGT290-Final/master/data/data.csv").then((function(e){return e.text()})).then((function(e){Object(i.parse)(e,{worker:!0,header:!0,step:function(e){var t=e.data;if(n.global.push(t),void 0!==t.timestamp){var a=t.item;n.insert(a,t,n.itemMap);var r=t.buyer;n.insert(r,t,n.buyerMap);var i=t.seller;n.insert(i,t,n.sellerMap);var s=t.guild;n.insert(s,t,n.guildMap);var o=t.timestamp.split(" ")[0];n.dateMap[o]||n.dates.push(o),n.insert(o,t,n.dateMap)}},complete:function(){console.log("Done!"),console.log(n.global[0]),console.log(n.global.length),console.log(n.dateMap),n.items=Object.keys(n.itemMap),n.buyers=Object.keys(n.buyerMap),n.sellers=Object.keys(n.sellerMap),n.guilds=Object.keys(n.guildMap),a()},delimiter:"#"})}))}return Object(n.a)(t,[{key:"insert",value:function(e,t,a){void 0===a[e]&&(a[e]=[]),a[e].push(t)}},{key:"getDataTable",value:function(){return{global:this.global,sellerMap:this.sellerMap,sellers:this.sellers,buyerMap:this.buyerMap,buyers:this.buyers,itemMap:this.itemMap,items:this.items,guildMap:this.guildMap,guilds:this.guilds,dateMap:this.dateMap,dates:this.dates}}}]),t}()}).call(this,a(107))},297:function(e,t,a){},298:function(e,t,a){},439:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(124),s=a.n(i),o=(a(297),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,480)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),i(e),s(e)}))}),l=a(21),c=a(10),d=a(12),h=a(13),u=a(14),p=(a(298),a(95)),j=a(4),b=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Overview"}),Object(j.jsxs)("p",{children:["In the Elder Scrolls Online (ESO), trading is done through traders owned by guilds. Each week guilds can bid on a trader and the guild with the highest bid gets to use that trader for the week. Traders are located in every major town, and since some are more populated then others, the average bid on a trader varies grately by location.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Any player can go to these traders and use their gold to purchase items they desire, but only members of the guild can sell items through that trader. When a player purchases an item, a majority of the gold goes to the seller, but a small portion is taken as tax for the guild."]}),Object(j.jsx)("h1",{children:"Analysis"}),Object(j.jsx)("p",{children:"The goal of my analysis is to determine if ESO follows an economic model of perfect competition. For those unfimilar with economics, a market that is perfectly competitive has the following characteristics:"}),Object(j.jsxs)("ol",{children:[Object(j.jsx)("li",{children:"Competition is at its greatest possible level"}),Object(j.jsx)("li",{children:"There is perfect knowledge, with no time lags in the flow of information"}),Object(j.jsx)("li",{children:"There are no barries to entry into or exit out of the market"}),Object(j.jsx)("li",{children:"No single seller can influence the market price or conditions"})]}),Object(j.jsx)("h1",{children:"Data"}),Object(j.jsxs)("p",{children:["In ESO, guild trader data is only visible to members within that guild, and only the past 10 days of sales are kept. A player by the name of Sharlikran created a program called"," ",Object(j.jsx)("a",{href:"https://www.esoui.com/downloads/info2753-MasterMerchant3.0.html",children:"Master Merchant"})," ","to analyze and collect this data. Unfortunetly, this means the data set used is limited to traders I have access too.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Overall, data was recorded for"," ",this.props.data.guilds.length," guilds, with"," ",this.props.data.global.length," transactions being recorded"]})]})}}]),a}(r.Component),g=a(257),v=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r.data=[],r.min=new Date("2100-1-1"),r.max=new Date("1990-1-1"),r.avg=[],console.log(e),e.data.dates.forEach((function(t){var a,n={};e.data.dateMap[t].forEach((function(e){void 0!==n[e.guild]?n[e.guild]++:n[e.guild]=1}));var i=[];Object.keys(n).forEach((function(t){var a;(null===(a=e.exclude)||void 0===a?void 0:a.includes(t))||i.push({name:t,value:n[t]})}));var s=e.data.dateMap[t].length;null===(a=e.exclude)||void 0===a||a.forEach((function(e){console.log(e),console.log(n[e]),console.log(s),s-=n[e]?n[e]:0,console.log(s)})),r.data.push({day:t,value:s,guilds:i}),r.avg.push(e.data.dateMap[t].length);var o=new Date(t);o<r.min&&(r.min=o),o>r.max&&(r.max=o)})),console.log(r.data),console.log(r.min),console.log(r.max),r}return Object(d.a)(a,[{key:"dateToString",value:function(e){return"".concat(e.getMonth()+1,"/").concat(e.getDate(),"/").concat(e.getFullYear())}},{key:"dateToDayOfWeek",value:function(e){switch(new Date(e).getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Unknown"}}},{key:"render",value:function(){var e=this;return console.log(this.min),console.log(this.max),Object(j.jsxs)("div",{children:[this.props.exclude?Object(j.jsx)("span",{}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Transactions were recorded between"," ",this.dateToString(this.min)," and"," ",this.dateToString(this.max)]}),Object(j.jsxs)("p",{children:["The average amount of transactions per day was"," ",Math.floor(this.avg.reduce((function(e,t){return e+t}))/this.avg.length)]})]}),Object(j.jsx)("div",{style:{width:"100%",height:"225px"},children:Object(j.jsx)(g.a,{data:this.data,to:this.max,from:this.min,tooltip:function(){var t=(arguments.length<=0?void 0:arguments[0]).data;return console.log(t),Object(j.jsxs)("div",{style:{padding:"0.25rem",backgroundColor:"#999"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("strong",{children:e.dateToDayOfWeek(t.day)})}),t.guilds?t.guilds.map((function(e){return Object(j.jsxs)("div",{style:{padding:"0.1rem 0.5rem"},children:[e.name,": ",e.value]})})):Object(j.jsx)("span",{}),Object(j.jsxs)("div",{style:{color:"red",padding:"0.1rem 0.5rem"},children:["Total: ",t.value?t.value:0]})]})}})})]})}}]),a}(r.Component),f=a(171),m=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r.data=[],r.totalSaleCount=0,r.totalSaleValue=0;var n=[];Object.keys(e.data).forEach((function(t){var a=e.data[t],i=0;a.forEach((function(e){i+=parseInt(e.price)}));var s=a.length;n.push({player:t,saleCount:s,saleValue:i,nil:0}),r.totalSaleCount+=s,r.totalSaleValue+=i})),n.sort((function(e,t){return t.saleValue-e.saleValue}));for(var i=0;i<e.count;i++)r.data.push(n[i]);return r}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:["There was ",Object.keys(this.props.data).length," unique sellers, who sold ",this.totalSaleCount.toLocaleString()," ","items, valued at ",this.totalSaleValue.toLocaleString()," ","gold"]})}),Object(j.jsxs)("div",{style:{position:"relative",height:"300px"},children:[Object(j.jsx)("div",{style:{width:"100%",height:"300px",position:"absolute"},children:Object(j.jsx)(f.a,{data:this.data,keys:["saleCount","nil"],indexBy:"player",groupMode:"grouped",margin:{top:50,right:130,bottom:50,left:60},colors:"#0f0",theme:{textColor:"#fff"},axisLeft:null,legends:[{anchor:"top-right",itemWidth:-10,itemHeight:20,dataFrom:"keys",direction:"column"}],labelTextColor:"#fff"})}),Object(j.jsx)("div",{style:{width:"100%",height:"300px",position:"absolute",opacity:"0.5"},children:Object(j.jsx)(f.a,{data:this.data,keys:["nil","saleValue"],indexBy:"player",groupMode:"grouped",margin:{top:50,right:130,bottom:50,left:60},colors:"#f00",theme:{textColor:"#fff"},enableGridY:!1,legends:[{anchor:"bottom-right",itemWidth:-10,itemHeight:20,dataFrom:"keys",direction:"column"}],labelTextColor:"#fff",labelFormat:".3~s"})})]})]})}}]),a}(r.Component),O=a(272),x=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r.data={name:"Items",children:[]},r.totalSaleCount=0,r.totalSaleValue=0;var n=[];Object.keys(e.data).forEach((function(t){var a=e.data[t],r=0,i=0;a.forEach((function(e){r+=parseInt(e.price),i+=parseInt(e.price)/parseInt(e.quant)})),n.push({name:t,value:r,count:a.length,avg:Math.round(i/a.length)})})),n.sort((function(e,t){return t.value-e.value}));for(var i=0;i<e.count;i++)r.data.children.push(n[i]);return r}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{width:"100%",height:"500px"},children:Object(j.jsx)(O.a,{data:this.data,identity:"name",value:"value",valueFormat:".03~s",margin:{top:10,right:10,bottom:10,left:10},labelSkipSize:12,labelTextColor:"#fff",parentLabelTextColor:{from:"color",modifiers:[["darker",2]]},borderColor:{from:"color",modifiers:[["darker",.1]]},tooltip:function(e){console.log(e);var t=e.node.data;return Object(j.jsx)("div",{style:{padding:" 0.25rem 1rem"},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{children:t.name}),Object(j.jsxs)("div",{children:["Sold: ",t.count]}),Object(j.jsxs)("div",{children:["Total value:"," ",t.value.toLocaleString()]}),Object(j.jsxs)("div",{children:["Avg price per unit:"," ",t.avg.toLocaleString()]})]})})}})}),Object(j.jsx)("div",{style:{display:"grid",gridTemplate:"1fr 1fr 1fr 1fr 1fr / 1fr 1fr 1fr"},children:this.data.children.map((function(e,t){return t<15?Object(j.jsxs)("div",{style:{marginTop:"0.5rem"},children:[Object(j.jsxs)("div",{children:[t+1,") ",e.name]}),Object(j.jsx)("div",{children:e.value.toLocaleString()})]}):Object(j.jsx)("span",{})}))})]})}}]),a}(r.Component),y=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Transaction History"}),Object(j.jsx)(v,{data:this.props.data}),Object(j.jsx)("h1",{children:"Top Sellers"}),Object(j.jsx)(m,{data:this.props.data.sellerMap,count:10}),Object(j.jsx)("h1",{children:"Item Marketshare"}),Object(j.jsx)(x,{data:this.props.data.itemMap,count:75}),Object(j.jsx)("div",{style:{paddingBottom:"2rem"},children:" "})]})}}]),a}(r.Component),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r}return Object(d.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"The Economy of ESO"}),Object(j.jsx)("nav",{className:"nav",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(p.a,{exact:!0,activeClassName:"activeNav",to:"/app/home",children:"Home"})}),Object(j.jsx)("li",{children:Object(j.jsx)(p.a,{exact:!0,activeClassName:"activeNav",to:"/app/story",children:"Story"})})]})}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/app/story",children:Object(j.jsx)(y,{data:this.props.data})}),Object(j.jsx)(l.a,{path:"/app/home",children:Object(j.jsx)(b,{data:this.props.data})})]})]})}}]),a}(n.a.PureComponent),w=a(276),M=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).props=void 0,r.parser=void 0,r.redirect=function(){console.log("here"),r.props.history.push("/app"),console.log(r.props.history)},r.parser=new w.a(r.redirect),console.log(e),r}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.parser.getDataTable()),console.log(this.props.history),0===this.parser.getDataTable().global.length&&"/loading"!==this.props.history.location.pathname&&this.props.history.push("/loading"),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/app",component:function(){return Object(j.jsx)(k,{data:e.parser.getDataTable()})}}),Object(j.jsx)(l.a,{path:"/loading",children:Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:"Please wait while the app processes the data"})})})]})}}]),a}(r.Component),T=Object(l.f)(M),S=a(32),C=Object(S.a)();s.a.render(Object(j.jsx)(l.b,{history:C,children:Object(j.jsx)(T,{})}),document.getElementById("root")),o()}},[[439,1,2]]]);
//# sourceMappingURL=main.3c02aaf2.chunk.js.map